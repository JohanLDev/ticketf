{% extends "base.html" %}
{% block content %}

<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>{{ event.nombre }} — Detalle</title>
    <style>
      body { font-family: system-ui, sans-serif; margin: 0; background:#f7f7f7; }
      .wrap { max-width: 100%; margin: 0 auto; padding: 0 0 100px 0; }
      .hero { position:relative; background:#222; color:#fff;overflow:hidden; }
      .hero img { width:100%; height: 540px; object-fit: cover; display:block; opacity:.86; }
      .hero h1 { position:absolute; left:20px; bottom:20px; margin:0; font-size: 40px; text-shadow: 0 2px 8px rgba(0,0,0,.6); }
      .grid { width: 1200px; margin: 0 auto; display:grid; grid-template-columns: 1fr 320px; gap: 18px; margin-top:18px; }
      .card { background:#fff; border:1px solid #e6e6e6; border-radius:12px; padding:16px; }
      .muted { color:#666; }
      .btn { display:inline-block; padding:10px 14px; background:#a837ab; color:#fff; border-radius:8px; text-decoration:none; }
      .btn:hover { background:#89208d; color: white }
      .btn-secondary { background:#6c757d; }
      .btn-secondary:hover { background:#5c636a; }
      .row { display:flex; gap:16px; flex-wrap:wrap; }
      .pill { display:inline-block; padding:6px 10px; background:#eef3ff; color:#2546a9; font-size:13px; }
    </style>
  </head>
  <body>
    <div class="wrap">
      <div class="hero">
        {% if event.banner %}
          <img src="{{ event.banner.url }}" alt="{{ event.nombre }}">
        {% else %}
          <img src="https://via.placeholder.com/600x300?text={{ event.nombre|urlencode }}" alt="{{ event.nombre }}" style="width:100%;height:340px;object-fit:cover;">
        {% endif %}

        <h1>{{ event.nombre }}</h1>
      </div>

      <div class="grid">
        <div class="card">
          <h2>Acerca del evento</h2>
          {% if event.descripcion %}
            <p class="text-muted">
              {{ event.descripcion|linebreaks }}
            </p>
          {% endif %}

          <p class="muted">
            {% if event.ubicacion %}<b>Ubicación:</b> {{ event.ubicacion }}<br>{% endif %}
            {% if event.fecha_inicio %}
              <b>Fecha inicio:</b> {{ event.fecha_inicio|date:"d M Y" }}<br>
            {% endif %}
            {% if event.fecha_termino %}
              <b>Fecha término:</b> {{ event.fecha_termino|date:"d M Y" }}
            {% endif %}
          </p>

          <div class="row" style="margin-top:10px;">
            <a class="btn" href="{% url 'orders:public-checkout-step1' event.slug %}">COMPRAR TICKETS</a>
            <a class="btn btn-secondary" href="{% url 'public:home' %}">Volver</a>
          </div>
        </div>

        <div class="card">
          <h3>Información rápida</h3>
          <p class="muted">Al comprar, recibirás un PDF con códigos QR únicos por ticket.</p>
          <div class="row">
            {% if event.fecha_inicio %}<span class="pill">Comienza {{ event.fecha_inicio|date:"d M" }}</span>{% endif %}
            {% if event.ubicacion %}<span class="pill">{{ event.ubicacion }}</span>{% endif %}
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
{% endblock %}
